name = "sharex-image-host"
main = "src/index.ts"
compatibility_date = "2024-12-01"
compatibility_flags = ["nodejs_compat"]

# rudra.gay custom domain should be configured via Cloudflare Dashboard:
# Workers & Pages → sharex-image-host → Settings → Triggers → Custom Domains
# Add "rudra.gay" and enable "Override existing DNS record"

[vars]
BASE_URL = "https://formality.life"

# Set secrets via:
#   wrangler secret put DATABASE_URL
#   wrangler secret put ADMIN_KEY

[[r2_buckets]]
binding = "R2"
bucket_name = "sharex-host"

[observability]
enabled = false
head_sampling_rate = 1

[observability.logs]
enabled = true
head_sampling_rate = 1
persist = true
invocation_logs = true

[observability.traces]
enabled = false
persist = true
head_sampling_rate = 1
